Repository: https://github.com/Repello-AI/Agent-Wiz

README.md Content:
<div align=center><img src="https://github.com/Repello-AI/Agent-Wiz/raw/master/assets/agent_wiz.png" /></div>
<br />

<div align="center">
  <a href="https://pypi.org/project/repello-agent-wiz/">
    <img src="https://img.shields.io/pypi/v/repello-agent-wiz.svg?color=blue" alt="PyPI version">
  </a>
  <a href="https://pypi.org/project/repello-agent-wiz/">
    <img src="https://img.shields.io/pypi/pyversions/repello-agent-wiz.svg" alt="Python Versions">
  </a>
<!--   <a href="https://github.com/Repello-AI/agent-Wiz/actions">
    <img src="https://img.shields.io/github/actions/workflow/status/Repello-AI/agent-Wiz/python-app.yml?label=build" alt="Build Status">
  </a> -->
  <a href="./LICENSE">
    <img src="https://img.shields.io/github/license/Repello-AI/Agent-Wiz" alt="License">
  </a>
  <a href="code_of_conduct.md">
    <img src="https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg" alt="Contributor Covenant">
  </a>
</div>

<br/>


![](https://github.com/Repello-AI/Agent-Wiz/raw/master/assets/example_vis.png)

## Overview
Agent Wiz is a Python CLI for **extracting agentic workflows** from popular AI frameworks and performing **automated threat assessments** using established threat modeling methodologies. Built for **developers, researchers, and security teams** -  Agent Wiz brings visibility to complex LLM-based orchestration to **visualize flows**, **map tool/agent interactions**, and **generate actionable security reports.** 

## Why Agent Wiz?

In modern LLM-powered systems, agentic workflows are becoming increasingly complex, often involving multiple autonomous agents, tools, and inter-agent communication chains. Agent Wiz helps you bring:

- **Visibility**: Clearly visualize complex agent graphs without manual tracing
- **Structure**: Map relationships between agents, tools, and data flows
- **Security**: Apply threat modeling frameworks to identify potential vulnerabilities

### Core Features

| Capability | Description |
|---------|-------------|
| **Workflow Extraction** | Extract agent-based workflows from code using AST-based static parsing |
| **Threat Vector Visualization** | View agent-to-agent, agent-to-tool, and chained connections in an interactive graph |
| **Automated Threat Assessment** | Generate comprehensive threat assessment report using established threat modeling frameworks for AI agents like MAESTRO|
| **Framework Agnostic** | Works with all major LLM orchestration frameworks |
| **Developer Friendly** | Simple CLI, extensible SDK, and clean JSON exports |



https://github.com/user-attachments/assets/40231eae-9716-421e-a005-fd55d1d8cc71



## Supported Frameworks

The following agent orchestration frameworks are currently supported:

| Framework         | Status  |
|------------------|---------|
| Autogen (core)    | ‚úÖ      |
| AgentChat         | ‚úÖ      |
| CrewAI            | ‚úÖ      |
| LangGraph         | ‚úÖ      |
| LlamaIndex        | ‚úÖ      |
| n8n               | ‚úÖ      |
| OpenAI Agents     | ‚úÖ      |
| Pydantic-AI       | ‚úÖ      |
| Swarm             | ‚úÖ      |
| Google-ADK        | ‚úÖ      |

Each framework has its own AST-based static parser to extract:
- Agents (class/function-based)
- Tool functions
- Agent-to-agent transitions
- Tool call chains
- Group agents (e.g., selector, round-robin)


## Security Analysis

Agent Wiz currently supports [**MAESTRO**](https://cloudsecurityalliance.org/blog/2025/02/06/agentic-ai-threat-modeling-framework-maestro) as its primary threat modeling framework. It evaluates agent workflows against the following structure:

- **M**ission: Defining the system purpose and security objectives
- **A**ssets: Inventorying critical components (agents, tools, data flows)
- **E**ntrypoints: Mapping attack surfaces and access vectors
- **S**ecurity Controls: Evaluating existing defensive measures
- **T**hreats: Identifying potential vulnerabilities and attack scenarios
- **R**isks: Calculating impact and likelihood of security events
- **O**perations: Assessing runtime security considerations

Sample threat modelling report generated:

<img src="https://github.com/Repello-AI/Agent-Wiz/raw/master/assets/example_report.png" alt="Threat Modeling Report" />
<br/>


You can also add this line to your `.bashrc`, `.zshrc`, or environment setup script for persistent use.

üß™ More threat models analysis (STRIDE, PASTA, LINDDUN, etc.) are under development.

## Installation

```bash
pip install repello-agent-wiz
```

## Prerequisites

Before running any analysis commands, you must set your OpenAI API key as an environment variable:

```bash
export OPENAI_API_KEY=sk-...
```

## üöÄ CLI Usage

### 1. Extract Agentic Workflow

```bash
agent-wiz extract --framework agent_chat --directory ./examples/code/agent_chat --output agentchat_graph.json
```

This will generate a graph JSON with the following structure:

```json
{
  "nodes": [...],
  "edges": [...],
  "metadata": {
    "framework": "autogen"
  }
}
```

### 2. Visualize the Agentic workflow
```bash
agent-wiz visualize --input agentchat_graph.json --open
```

This will generate an html d3 based visualisation of the agentic workflow. The `open` flag (optional) and automatically opens the visualization in your default browser.   

### 3. Analyze against Threat Modeling

```bash
agent-wiz analyze --input agentchat_graph.json
```

This will generate a report like:  `autogen_report.md`  based on the provided graph and threat modeling frameworks.

__Run agent-wiz --help for more info:__
```bash
usage: agent-wiz [-h] {extract,analyze,visualize} ...

Agent Wiz CLI: Extract, Analyze, Visualize agentic workflows.

positional arguments:
  {extract,analyze,visualize}
    extract             Extract graph from source code
    analyze             Run threat modeling analysis on extracted graph
    visualize           Generate HTML visualization from graph JSON

options:
  -h, --help            show this help message and exit
```

## üìà Roadmap
Planned features (Not in any paricular order)
- [x] Build parsers for major agentic frameworks (Autogen, LangGraph, CrewAI, etc.)
- [x] Generate standardized JSON graph representations of agent flows
- [x] CLI interfaces
- [x] Security report generation
- [ ] Extend to STRIDE, PASTA, LINDDUN, etc.
- [ ] Agent simulation-based threat exploration

## ü§ù Contributing

We welcome contributions of all kinds!

‚ö†Ô∏è Please read [`CONTRIBUTING.md`](./CONTRIBUTING.md) before submitting issues or PRs.


## üìú Changelog

For recent changes and version history, see [`CHANGELOG.md`](./CHANGELOG.md).

## üìÑ License

Licensed under the **Apache 2.0 License**. See [`LICENSE`](./LICENSE) for full details.

## Links

- [Agent Wiz GitHub](https://github.com/Repello-AI/Agent-Wiz)
- [Issue Tracker](https://github.com/Repello-AI/Agent-Wiz/issues)
- [PyPI Package](https://pypi.org/project/repello-agent-wiz/)

## Attribution

[Google ADK code examples](https://github.com/Repello-AI/Agent-Wiz/tree/google-adk/examples/code/google_adk/agents) are taken from [Google ADK Samples](https://github.com/google/adk-samples)

<p align="center">
¬© 2025 Repello AI | <a href="https://repello.ai">Website</a> 
</p>


PY Files:
File: examples/code/agent_chat/agent_chat.py
Imports:
from autogen_agentchat.agents import AssistantAgent
from autogen_agentchat.conditions import TextMentionTermination
from autogen_agentchat.teams import RoundRobinGroupChat
from autogen_agentchat.ui import Console
from autogen_core.tools import FunctionTool
... (2 more imports)
Functions:
def main():

File: examples/code/agent_chat/agent_chat2.py
Imports:
from typing import Sequence
from autogen_agentchat.agents import AssistantAgent, UserProxyAgent
from autogen_agentchat.conditions import MaxMessageTermination, TextMentionTermination
from autogen_agentchat.messages import AgentEvent, ChatMessage
from autogen_agentchat.teams import SelectorGroupChat
... (2 more imports)
Functions:
def main():

File: examples/code/autogen/autogen.py
Imports:
import asyncio
import json
from dataclasses import dataclass
... (6 more imports)
Classes:
class Message:
class BookingManager(RoutedAgent):
class FlightAgent(RoutedAgent):
... (3 more classes)
Functions:
def __init__(self, model_client: ChatCompletionClient):
def __init__(self, model_client: ChatCompletionClient, tool_schema: List[Tool]):
def __init__(self, model_client: ChatCompletionClient, tool_schema: List[Tool]):
def __init__(self, model_client: ChatCompletionClient, tool_schema: List[Tool]):
def __init__(self, model_client: ChatCompletionClient, tool_schema: List[Tool]):
... (1 more functions)

File: examples/code/autogen/autogen2.py
Imports:
import asyncio
import json
from dataclasses import dataclass
from typing import List, Dict, Any
from autogen_core import (
... (4 more imports)
Classes:
class Message:
class MathGreetAgent(RoutedAgent):
Functions:
def __init__(self, model_client: ChatCompletionClient, tool_schema: List[Tool]):
def main():

File: examples/code/crewai/echo_synth/__init__.py

File: examples/code/crewai/echo_synth/crews/__init__.py
Imports:
from .audio_crew import AudioProcessingCrew
from .json_crew import JsonSavingCrew

File: examples/code/crewai/echo_synth/crews/audio_crew.py
Imports:
from crewai import (Agent, Crew, Process, Task, LLM)
from crewai.project import CrewBase, agent, crew, task
from echo_synth.tools import (
Classes:
class AudioProcessingCrew():
Functions:
def __init__(self):
def setup_tools(self):

File: examples/code/crewai/echo_synth/crews/json_crew.py
Imports:
from crewai_tools import FileWriterTool
from crewai import Agent, Crew, Process, Task
from crewai.project import CrewBase, agent, crew, task
Classes:
class JsonSavingCrew():
Functions:
def data_organizer(self):
def save_to_json(self):
def crew(self):

File: examples/code/crewai/echo_synth/flows/__init__.py
Imports:
from .app_flow import EchoSynthFlow

File: examples/code/crewai/echo_synth/flows/app_flow.py
Imports:
import os
import traceback
from typing import List
from pydantic import BaseModel
from crewai.flow.flow import Flow, listen, start
... (2 more imports)
Classes:
class EchoSynthState(BaseModel):
class EchoSynthFlow(Flow[EchoSynthState]):
Functions:
def __init__(self, audio_file_path=None):
def _get_task_output_by_name(self, tasks_output: List[TaskOutput], task_name):

File: examples/code/crewai/echo_synth/main.py
Imports:
import warnings
import os
from dotenv import load_dotenv
from echo_synth.flows.app_flow import EchoSynthFlow
Functions:
def run():
def plot():

File: examples/code/crewai/echo_synth/tools/__init__.py
Imports:
from .audio_tools import AudioAnalysisTool, WhisperTranscriptionTool
from .image_tools import DallEImageGenerationTool

File: examples/code/crewai/echo_synth/tools/audio_tools.py
Imports:
import os
import requests
from openai import OpenAI
... (3 more imports)
Classes:
class WhisperTranscriptionInput(BaseModel):
class WhisperTranscriptionTool(BaseTool):
class DallEImageGenerationInput(BaseModel):
... (3 more classes)
Functions:
def __init__(self, api_key: Optional[str] = None):
def __init__(self, api_key: Optional[str] = None):
def __init__(self, api_key: Optional[str] = None):


INFO Files:
Analysis truncated: 89 more files not analyzed due to token limit.


Repository Analysis Summary:
- Files analyzed: 13 of 102 total files
- Token usage estimate: ~2819 tokens
- Token limit configured: 4000 tokens
